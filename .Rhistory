Shn_Box =
ggplot(shn_treat) +
geom_boxplot(aes(x = habitat, y = shannon, fill  = habitat)) +
geom_jitter(aes(x = habitat, y = shannon),
color="black", size=0.4, alpha=0.9) +
scale_fill_manual(values=c("#CC9900", "#FFFF66", "#660066", "#CC0000",
"#FF66FF", "#66FFFF"))+
labs(x="", y = "Shannons Diversity Index") +
theme_classic() +
theme(legend.position = "none")
Shn_Box
ggsave("Figures/Shn_Box.png")
Inv_simp_Box =
ggplot(in_shn_treat) +
geom_boxplot(aes(x = habitat, y = inv_shan, color  = habitat)) +
geom_jitter(aes(x = habitat, y = inv_shan),
color="black", size=0.4, alpha=0.9) +
labs(x="", y = "Inverse Simpson's Diversity Index") +
theme_classic() +
theme(legend.position = "none")
Inv_simp_Box =
ggplot(in_shn_treat) +
geom_boxplot(aes(x = habitat, y = inv_shan, fill  = habitat)) +
geom_jitter(aes(x = habitat, y = inv_shan),
color="black", size=0.4, alpha=0.9) +
scale_fill_manual(values=c("#CC9900", "#FFFF66", "#660066", "#CC0000",
"#FF66FF", "#66FFFF"))+
labs(x="", y = "Inverse Simpson's Diversity Index") +
theme_classic() +
theme(legend.position = "none")
Inv_simp_Box
ggsave("Figures/Inv_simp_Box.png")
## Shannons Boxplot ##
Shn_Box =
ggplot(shn_treat) +
geom_boxplot(aes(x = habitat, y = shannon, fill  = habitat)) +
geom_jitter(aes(x = habitat, y = shannon),
color="black", size=0.4, alpha=0.9) +
scale_fill_manual(values=c("#CC9900", "#FFFF66", "#660066", "#CC0000",
"#FF66FF", "#66FFFF"))+
labs(x="", y = "Shannons Diversity Index") +
theme_classic() +
theme(legend.position = "none")
Shn_Box
ggsave("Figures/Shn_Box.png")
Inv_simp_Box =
ggplot(in_shn_treat) +
geom_boxplot(aes(x = habitat, y = inv_shan, fill  = habitat)) +
geom_jitter(aes(x = habitat, y = inv_shan),
color="black", size=0.4, alpha=0.9) +
scale_fill_manual(values=c("#CC9900", "#FFFF66", "#660066", "#CC0000",
"#FF66FF", "#66FFFF"))+
labs(x="", y = "Inverse Simpson's Diversity Index") +
theme_classic() +
theme(legend.position = "none")
Inv_simp_Box
ggsave("Figures/Inv_simp_Box.png")
list.of.packages <- c("tidyverse", "agricolae", "labelled", "vegan", "labdsv")
new.packages <- list.of.packages[!(list.of.packages %in%
installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
library(tidyverse)
library(vegan)
library(agricolae)
library(labelled)
library(labdsv)
# Clears environment
rm(list=ls(all=TRUE))
# Clears history
cat("\014")
set.seed(2)
### Load Data ###
shrub <- read.csv("Data/Master List of Plots - Shrub Cover.csv")
### Add in habitat column & ensure numeric/character values ###
shrub = mutate(shrub, habitat = str_extract(Plot..r...., "^.{2}"))
shrub$Avg..Height = as.numeric(shrub$Avg..Height)
shrub$X..Cover = as.numeric(shrub$X..Cover)
shrub$habitat = as.character(shrub$habitat)
shrub$Plot = as.character(shrub$Plot)
### Remove NA and empty Values ###
shrub = filter(shrub, X..Cover != "NA") %>%
filter(X..Cover != "")
### Reclassify coverage data (X..Cover) from 1-10 scale to percent scale ###
shrub <- mutate(shrub, X..Cover = case_when(
grepl(1, X..Cover) ~ 0.1,
grepl(2, X..Cover) ~ 0.5,
grepl(3, X..Cover) ~ 1.5,
grepl(4, X..Cover) ~ 3.5,
grepl(5, X..Cover) ~ 7.5,
grepl(6, X..Cover) ~ 17.5,
grepl(7, X..Cover) ~ 37.5,
grepl(8, X..Cover) ~ 62.5,
grepl(9, X..Cover) ~ 85,
grepl(10, X..Cover) ~ 97.5
))
shrub = na.omit(shrub)
### shrub Cover Plots ##
Shrub_Cover_Box =
ggplot(shrub, aes(x = habitat, y = X..Cover, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Shrub Cover %")
Shrub_Cover_Box
### shrub Cover Plots ##
Shrub_Cover_Box =
ggplot(shrub, aes(x = habitat, y = X..Cover, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Shrub Cover %")
Shrub_Cover_Box
ggsave("Figures/Shrub_Cover_Box.png")
### shrub Height Plots ##
Shrub_Heights_Box =
ggplot(shrub, aes(x = habitat, y = Avg..Height, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Average Shrub Height (m)")
Shrub_Heights_Box
### shrub Height Plots ##
Shrub_Heights_Box =
ggplot(shrub, aes(x = habitat, y = Avg..Height, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF")) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Average Shrub Height (m)")
Shrub_Heights_Box
ggsave("Figures/Shrub_Heights_Box.png")
table_SR <- table(shrub$Species, shrub$habitat)
table_SR
SR = specnumber(table_SR , MARGIN=2)
SR = as.data.frame(SR)
write.table(SR, ("Figures/ShrubData_SR"))
SR <- rownames_to_column(SR, "habitat")
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, color  = habitat)) +
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_Box
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, color  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_Box
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_Box
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_Box
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_Box
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR
SR_ShrubData_Box =
ggplot(SR_Box) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_ShrubData_Box
SR_ShrubData_Box =
ggplot(SR_Box) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_ShrubData_Box =
ggplot(SR) +
geom_boxplot(aes(x = habitat, y = SR, fill  = habitat)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
labs(x="", y = "# of Shrub Species Recorded") +
theme_classic() +
theme(legend.position = "none")
SR_ShrubData_Box
ggsave("Figures/SR_ShrubData_Box.png")
View(SR)
list.of.packages <- c("tidyverse", "agricolae", "labelled", "vegan", "labdsv")
new.packages <- list.of.packages[!(list.of.packages
%in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
library(tidyverse)
library(vegan)
library(agricolae)
library(labelled)
library(labdsv)
# Clears environment
rm(list=ls(all=TRUE))
# Clears history
cat("\014")
set.seed(2)
### Load Data ###
tree <- read.csv("Data/Master List of Plots - Canopy Cover.csv")
### Add in habitat column ###
tree = mutate(tree, habitat = str_extract(Plot..r...., "^.{2}"))
tree$DBH..cm. = as.numeric(tree$DBH..cm.)
tree$habitat = as.character(tree$habitat)
tree$Height..m. = as.numeric(tree$Height..m.)
tree$Species = as.character(tree$Species)
################# DBH ##########################################################
DBH_Box =
ggplot(tree %>% dplyr::filter(DBH..cm. != "NA"),
aes(x = habitat, y = DBH..cm., fill = habitat)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("DBH (cm)")
DBH_Box
ggsave("Figures/DBH_Box.png")
################# DBH ##########################################################
DBH_Box =
ggplot(tree %>% dplyr::filter(DBH..cm. != "NA"),
aes(x = habitat, y = DBH..cm., fill = habitat)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("DBH (cm)")
DBH_Box
ggsave("Figures/DBH_Box.png")
MF_DBH_Box =
ggplot(tree %>% dplyr::filter(Species != "NA") %>% subset(habitat=='MF'),
aes(x = Species, y = DBH..cm., fill = Species)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Species") +
ylab("Average DBH (cm)")
MF_DBH_Box
MF_DBH_Box =
ggplot(tree %>% dplyr::filter(Species != "NA") %>% subset(habitat=='MF'),
aes(x = Species, y = DBH..cm., fill = Species)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Species") +
ylab("Average DBH (cm)")
MF_DBH_Box
ggsave("Figures/MF_DBH_Box.png")
######################################## Height ################################
Height_Box =
ggplot(tree %>% dplyr::filter(DBH..cm. != "NA"),
aes(x = habitat, y = Height..m., fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Height (m)")
Height_Box
######################################## Height ################################
Height_Box =
ggplot(tree %>% dplyr::filter(DBH..cm. != "NA"),
aes(x = habitat, y = Height..m., fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Height (m)")
Height_Box
ggsave("Figures/Height_Box.png")
MF_Height =
ggplot(tree %>% dplyr::filter(Species != "NA") %>% subset(habitat=='MF'),
aes(x = Species, y = Height..m., fill = Species)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Species") +
ylab("Average Height (m)")
MF_Height
ggsave("Figures/Height_Box.png")
basal.area.fn <- function(x){ (pi*((x)/2)^2) } # calculate basal area in m^2
tree$BA = basal.area.fn(tree$DBH..cm.)
Basal_Box =
ggplot(tree %>% dplyr::filter(BA != "NA"),
aes(x = habitat, y = BA, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Basal Area "~cm^2)
Basal_Box
Basal_Box =
ggplot(tree %>% dplyr::filter(BA != "NA"),
aes(x = habitat, y = BA, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Basal Area "~cm^2)
Basal_Box
ggsave("Figures/Basal_Box.png")
tpha = filter(tree, DBH..cm. != "NA")
tpha = as.data.frame(table(tpha$Plot..r....))
# Expansion factor = 21.12 (1 hectare divide by the plots size 0.0452 hectares )
tpha$tpha = ((tpha$Freq)*21.12)
### Add in habitat column ###
tpha = mutate(tpha, habitat = str_extract(Var1, "^.{2}"))
TPHA_Box =
ggplot(tpha, aes(x = habitat, y = tpha, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Trees per Hectare")
TPHA_Box
TPHA_Box =
ggplot(tpha, aes(x = habitat, y = tpha, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Trees per Hectare")
TPHA_Box
ggsave("Figures/TPHA_Box.png")
View(tpha)
summary(tpha)
# Average TPHA by Habitat
table <- table(tpha$tpha, tpha$habitat)
table
tpha_ave = specnumber(tpha_ave , MARGIN=2)
tpha_ave = specnumber(table , MARGIN=2)
tpha_ave = as.data.frame(tpha_ave)
View(tpha_ave)
table_ave$ave = mean(table$tpha)
mean(table$tpha)
table = as.data.frame(table)
View(table)
# Average TPHA by Habitat
mean(tpha$tpha)
################################################################################
################################################################################
################### DeLuca -  Overstory  #######################################
################### By: Gage LaPierre    #######################################
################################################################################
################################################################################
############################ Installs Packages if Needed #######################
list.of.packages <- c("tidyverse", "agricolae", "labelled", "vegan", "labdsv")
new.packages <- list.of.packages[!(list.of.packages
%in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
############################ Loads Packages  ###################################
library(tidyverse)
library(vegan)
library(agricolae)
library(labelled)
library(labdsv)
# Clears environment
rm(list=ls(all=TRUE))
# Clears history
cat("\014")
set.seed(2)
################### DeLuca Overstory ###########################################
### Load Data ###
tree <- read.csv("Data/Master List of Plots - Canopy Cover.csv")
### Add in habitat column ###
tree = mutate(tree, habitat = str_extract(Plot..r...., "^.{2}"))
tree$DBH..cm. = as.numeric(tree$DBH..cm.)
tree$habitat = as.character(tree$habitat)
tree$Height..m. = as.numeric(tree$Height..m.)
tree$Species = as.character(tree$Species)
################# DBH ##########################################################
DBH_Box =
ggplot(tree %>% dplyr::filter(DBH..cm. != "NA"),
aes(x = habitat, y = DBH..cm., fill = habitat)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("DBH (cm)")
DBH_Box
ggsave("Figures/DBH_Box.png")
MF_DBH_Box =
ggplot(tree %>% dplyr::filter(Species != "NA") %>% subset(habitat=='MF'),
aes(x = Species, y = DBH..cm., fill = Species)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Species") +
ylab("Average DBH (cm)")
MF_DBH_Box
ggsave("Figures/MF_DBH_Box.png")
######################################## Height ################################
Height_Box =
ggplot(tree %>% dplyr::filter(DBH..cm. != "NA"),
aes(x = habitat, y = Height..m., fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Height (m)")
Height_Box
ggsave("Figures/Height_Box.png")
MF_Height =
ggplot(tree %>% dplyr::filter(Species != "NA") %>% subset(habitat=='MF'),
aes(x = Species, y = Height..m., fill = Species)) +
geom_boxplot(outlier.shape = NA) +
geom_jitter(alpha = 0.4, position=position_jitter(0.2)) +
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Species") +
ylab("Average Height (m)")
MF_Height
ggsave("Figures/Height_Box.png")
#################### Basal Area ################################################
basal.area.fn <- function(x){ (pi*((x)/2)^2) } # calculate basal area in m^2
tree$BA = basal.area.fn(tree$DBH..cm.)
Basal_Box =
ggplot(tree %>% dplyr::filter(BA != "NA"),
aes(x = habitat, y = BA, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Basal Area "~cm^2)
Basal_Box
ggsave("Figures/Basal_Box.png")
###################### Trees Per Acre  #########################################
tpha = filter(tree, DBH..cm. != "NA")
tpha = as.data.frame(table(tpha$Plot..r....))
# Expansion factor = 21.12 (1 hectare divide by the plots size 0.0452 hectares )
tpha$tpha = ((tpha$Freq)*21.12)
### Add in habitat column ###
tpha = mutate(tpha, habitat = str_extract(Var1, "^.{2}"))
TPHA_Box =
ggplot(tpha, aes(x = habitat, y = tpha, fill = habitat)) +
geom_boxplot() +
geom_jitter(alpha = 0.6, position=position_jitter(0.2)) +
scale_fill_manual(values=c("#CC9900", "#660066", "#CC0000",
"#FF66FF"))+
theme_classic(base_size = 14) +
theme(legend.position = "none") +
xlab("Habitat") +
ylab("Trees per Hectare")
TPHA_Box
ggsave("Figures/TPHA_Box.png")
